

EXPERIMENT RUN QPS: 1000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=1000
query_batch_size=50
max_features=10
salt_hash=true
feature_batch_size=1

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 1000, query_batch_size: 50, max_features: 10, salt_hash: true, feature_batch_size: 1 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 1 with 20 ms SLA
starting response worker 0 with 20 ms SLA
ACC: 0.813, THRU: 950.000, MEAN_LAT: 18.413, MAX_LAT: 20.255
ACC: 0.805, THRU: 950.000, MEAN_LAT: 18.515, MAX_LAT: 20.203
ACC: 0.804, THRU: 950.000, MEAN_LAT: 18.444, MAX_LAT: 20.369
ACC: 0.816, THRU: 950.000, MEAN_LAT: 18.452, MAX_LAT: 20.207
ACC: 0.822, THRU: 950.000, MEAN_LAT: 18.431, MAX_LAT: 20.254
ACC: 0.805, THRU: 950.000, MEAN_LAT: 18.494, MAX_LAT: 21.332
ACC: 0.807, THRU: 950.000, MEAN_LAT: 18.460, MAX_LAT: 20.297
ACC: 0.799, THRU: 933.333, MEAN_LAT: 18.467, MAX_LAT: 20.209
ACC: 0.809, THRU: 950.000, MEAN_LAT: 18.438, MAX_LAT: 20.189
ACC: 0.822, THRU: 950.000, MEAN_LAT: 18.503, MAX_LAT: 20.244
ACC: 0.819, THRU: 950.000, MEAN_LAT: 18.493, MAX_LAT: 20.260



EXPERIMENT RUN QPS: 3000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=3000
query_batch_size=50
max_features=10
salt_hash=true
feature_batch_size=1

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 3000, query_batch_size: 50, max_features: 10, salt_hash: true, feature_batch_size: 1 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.808, THRU: 2400.000, MEAN_LAT: 18.724, MAX_LAT: 20.342
ACC: 0.810, THRU: 2450.000, MEAN_LAT: 18.875, MAX_LAT: 20.209
ACC: 0.806, THRU: 2433.333, MEAN_LAT: 18.814, MAX_LAT: 20.217
ACC: 0.816, THRU: 2433.333, MEAN_LAT: 18.789, MAX_LAT: 20.208
ACC: 0.808, THRU: 2450.000, MEAN_LAT: 18.833, MAX_LAT: 20.247
ACC: 0.814, THRU: 2450.000, MEAN_LAT: 18.841, MAX_LAT: 20.237
ACC: 0.807, THRU: 2418.000, MEAN_LAT: 18.877, MAX_LAT: 20.447
ACC: 0.808, THRU: 2432.000, MEAN_LAT: 18.865, MAX_LAT: 20.214
ACC: 0.806, THRU: 2433.333, MEAN_LAT: 18.872, MAX_LAT: 20.450
ACC: 0.811, THRU: 2428.667, MEAN_LAT: 18.895, MAX_LAT: 20.271
ACC: 0.812, THRU: 2421.333, MEAN_LAT: 18.890, MAX_LAT: 20.362



EXPERIMENT RUN QPS: 5000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=5000
query_batch_size=50
max_features=10
salt_hash=true
feature_batch_size=1

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 5000, query_batch_size: 50, max_features: 10, salt_hash: true, feature_batch_size: 1 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.805, THRU: 3816.667, MEAN_LAT: 18.951, MAX_LAT: 20.259
ACC: 0.810, THRU: 3883.333, MEAN_LAT: 19.094, MAX_LAT: 21.340
ACC: 0.809, THRU: 3933.333, MEAN_LAT: 19.163, MAX_LAT: 22.714
ACC: 0.814, THRU: 3916.667, MEAN_LAT: 19.136, MAX_LAT: 20.868
ACC: 0.812, THRU: 3800.000, MEAN_LAT: 19.008, MAX_LAT: 20.199
ACC: 0.805, THRU: 3914.333, MEAN_LAT: 19.210, MAX_LAT: 26.841
ACC: 0.805, THRU: 3885.667, MEAN_LAT: 19.140, MAX_LAT: 21.630
ACC: 0.805, THRU: 3883.333, MEAN_LAT: 19.100, MAX_LAT: 20.216
ACC: 0.810, THRU: 3866.667, MEAN_LAT: 19.071, MAX_LAT: 20.201
ACC: 0.805, THRU: 3966.667, MEAN_LAT: 19.225, MAX_LAT: 20.247
ACC: 0.809, THRU: 3901.000, MEAN_LAT: 19.156, MAX_LAT: 28.045



EXPERIMENT RUN QPS: 7000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=7000
query_batch_size=50
max_features=10
salt_hash=true
feature_batch_size=1

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 7000, query_batch_size: 50, max_features: 10, salt_hash: true, feature_batch_size: 1 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.788, THRU: 4433.333, MEAN_LAT: 18.974, MAX_LAT: 20.236
ACC: 0.806, THRU: 4533.333, MEAN_LAT: 19.052, MAX_LAT: 22.653
ACC: 0.802, THRU: 4566.667, MEAN_LAT: 19.096, MAX_LAT: 24.053
ACC: 0.807, THRU: 4483.333, MEAN_LAT: 18.989, MAX_LAT: 21.584
ACC: 0.807, THRU: 4483.333, MEAN_LAT: 18.942, MAX_LAT: 27.889
ACC: 0.798, THRU: 4650.000, MEAN_LAT: 19.210, MAX_LAT: 21.894
ACC: 0.794, THRU: 4646.000, MEAN_LAT: 19.163, MAX_LAT: 20.209
ACC: 0.799, THRU: 4537.333, MEAN_LAT: 19.045, MAX_LAT: 20.246
ACC: 0.804, THRU: 4500.000, MEAN_LAT: 19.124, MAX_LAT: 42.291
ACC: 0.804, THRU: 4600.000, MEAN_LAT: 19.117, MAX_LAT: 20.232
ACC: 0.797, THRU: 4600.000, MEAN_LAT: 19.078, MAX_LAT: 20.970



EXPERIMENT RUN QPS: 9000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=9000
query_batch_size=50
max_features=10
salt_hash=true
feature_batch_size=1

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 9000, query_batch_size: 50, max_features: 10, salt_hash: true, feature_batch_size: 1 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.622, THRU: 5250.000, MEAN_LAT: 18.861, MAX_LAT: 21.890
ACC: 0.525, THRU: 5483.333, MEAN_LAT: 19.070, MAX_LAT: 21.761
ACC: 0.580, THRU: 5500.000, MEAN_LAT: 19.072, MAX_LAT: 20.260
ACC: 0.625, THRU: 5466.667, MEAN_LAT: 18.996, MAX_LAT: 24.750
ACC: 0.558, THRU: 5466.667, MEAN_LAT: 19.043, MAX_LAT: 20.789
ACC: 0.562, THRU: 5333.333, MEAN_LAT: 18.954, MAX_LAT: 20.339
ACC: 0.555, THRU: 5566.667, MEAN_LAT: 19.138, MAX_LAT: 20.204
ACC: 0.543, THRU: 5333.333, MEAN_LAT: 19.061, MAX_LAT: 27.571
ACC: 0.512, THRU: 5383.333, MEAN_LAT: 18.960, MAX_LAT: 20.250
ACC: 0.536, THRU: 5416.667, MEAN_LAT: 18.967, MAX_LAT: 20.199
ACC: 0.502, THRU: 5316.667, MEAN_LAT: 18.888, MAX_LAT: 20.209



EXPERIMENT RUN QPS: 10000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=10000
query_batch_size=50
max_features=10
salt_hash=true
feature_batch_size=1

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 10000, query_batch_size: 50, max_features: 10, salt_hash: true, feature_batch_size: 1 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.513, THRU: 5801.333, MEAN_LAT: 18.936, MAX_LAT: 21.937
ACC: 0.520, THRU: 6197.333, MEAN_LAT: 19.104, MAX_LAT: 21.938
ACC: 0.504, THRU: 5962.333, MEAN_LAT: 19.017, MAX_LAT: 20.492
ACC: 0.502, THRU: 5905.667, MEAN_LAT: 18.939, MAX_LAT: 22.552
ACC: 0.497, THRU: 5883.333, MEAN_LAT: 18.958, MAX_LAT: 23.041
ACC: 0.504, THRU: 5950.000, MEAN_LAT: 18.990, MAX_LAT: 20.252
ACC: 0.502, THRU: 5883.333, MEAN_LAT: 18.981, MAX_LAT: 20.228
ACC: 0.499, THRU: 5883.333, MEAN_LAT: 19.109, MAX_LAT: 28.094
ACC: 0.503, THRU: 6119.667, MEAN_LAT: 19.046, MAX_LAT: 24.344
ACC: 0.499, THRU: 5928.667, MEAN_LAT: 18.958, MAX_LAT: 21.602
ACC: 0.506, THRU: 5903.333, MEAN_LAT: 18.932, MAX_LAT: 22.889
waiting for features to finish
done

FINISHED BASELINE EXPERIMENTS


EXPERIMENT RUN QPS: 1000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=1000
query_batch_size=200
max_features=10
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 1000, query_batch_size: 200, max_features: 10, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.802, THRU: 1066.667, MEAN_LAT: 18.271, MAX_LAT: 20.312
ACC: 0.784, THRU: 1066.667, MEAN_LAT: 18.302, MAX_LAT: 20.227
ACC: 0.768, THRU: 1066.667, MEAN_LAT: 18.284, MAX_LAT: 20.228
ACC: 0.758, THRU: 1066.667, MEAN_LAT: 18.293, MAX_LAT: 20.668
ACC: 0.763, THRU: 1058.000, MEAN_LAT: 18.349, MAX_LAT: 23.874
ACC: 0.779, THRU: 1008.667, MEAN_LAT: 18.273, MAX_LAT: 20.208
ACC: 0.765, THRU: 1066.667, MEAN_LAT: 18.275, MAX_LAT: 20.802
ACC: 0.807, THRU: 1066.667, MEAN_LAT: 18.290, MAX_LAT: 20.218
ACC: 0.771, THRU: 1066.667, MEAN_LAT: 18.269, MAX_LAT: 20.262
ACC: 0.784, THRU: 1066.667, MEAN_LAT: 18.296, MAX_LAT: 21.464
ACC: 0.781, THRU: 1066.667, MEAN_LAT: 18.282, MAX_LAT: 20.230



EXPERIMENT RUN QPS: 3000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=3000
query_batch_size=200
max_features=10
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 3000, query_batch_size: 200, max_features: 10, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.793, THRU: 2400.000, MEAN_LAT: 18.301, MAX_LAT: 20.888
ACC: 0.796, THRU: 2400.000, MEAN_LAT: 18.283, MAX_LAT: 20.310
ACC: 0.802, THRU: 2333.333, MEAN_LAT: 18.285, MAX_LAT: 21.032
ACC: 0.798, THRU: 2400.000, MEAN_LAT: 18.285, MAX_LAT: 20.262
ACC: 0.783, THRU: 2400.000, MEAN_LAT: 18.297, MAX_LAT: 24.152
ACC: 0.806, THRU: 2400.000, MEAN_LAT: 18.284, MAX_LAT: 20.233
ACC: 0.800, THRU: 2339.667, MEAN_LAT: 18.299, MAX_LAT: 20.248
ACC: 0.800, THRU: 2393.667, MEAN_LAT: 18.261, MAX_LAT: 20.247
ACC: 0.791, THRU: 2400.000, MEAN_LAT: 18.332, MAX_LAT: 23.506
ACC: 0.763, THRU: 2466.667, MEAN_LAT: 18.287, MAX_LAT: 20.601
ACC: 0.796, THRU: 2373.000, MEAN_LAT: 18.287, MAX_LAT: 20.330



EXPERIMENT RUN QPS: 5000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=5000
query_batch_size=200
max_features=10
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 5000, query_batch_size: 200, max_features: 10, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.781, THRU: 3333.333, MEAN_LAT: 18.288, MAX_LAT: 20.269
ACC: 0.789, THRU: 3314.667, MEAN_LAT: 18.339, MAX_LAT: 26.868
ACC: 0.786, THRU: 3322.333, MEAN_LAT: 18.277, MAX_LAT: 21.689
ACC: 0.794, THRU: 3296.333, MEAN_LAT: 18.281, MAX_LAT: 20.266
ACC: 0.791, THRU: 3333.333, MEAN_LAT: 18.281, MAX_LAT: 20.292
ACC: 0.784, THRU: 3333.333, MEAN_LAT: 18.339, MAX_LAT: 29.502
ACC: 0.785, THRU: 3333.333, MEAN_LAT: 18.286, MAX_LAT: 20.275
ACC: 0.800, THRU: 3266.667, MEAN_LAT: 18.273, MAX_LAT: 21.246
ACC: 0.783, THRU: 3333.333, MEAN_LAT: 18.270, MAX_LAT: 20.280
ACC: 0.792, THRU: 3333.333, MEAN_LAT: 18.276, MAX_LAT: 20.246
ACC: 0.791, THRU: 3333.333, MEAN_LAT: 18.274, MAX_LAT: 20.289



EXPERIMENT RUN QPS: 8000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=8000
query_batch_size=200
max_features=10
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 8000, query_batch_size: 200, max_features: 10, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.805, THRU: 4505.667, MEAN_LAT: 18.269, MAX_LAT: 20.311
ACC: 0.808, THRU: 4427.667, MEAN_LAT: 18.274, MAX_LAT: 20.371
ACC: 0.810, THRU: 4400.000, MEAN_LAT: 18.291, MAX_LAT: 22.899
ACC: 0.805, THRU: 4533.333, MEAN_LAT: 18.275, MAX_LAT: 20.240
ACC: 0.809, THRU: 4466.667, MEAN_LAT: 18.313, MAX_LAT: 29.935
ACC: 0.808, THRU: 4400.000, MEAN_LAT: 18.259, MAX_LAT: 20.277
ACC: 0.808, THRU: 4491.333, MEAN_LAT: 18.284, MAX_LAT: 20.254
ACC: 0.808, THRU: 4508.667, MEAN_LAT: 18.273, MAX_LAT: 20.397
ACC: 0.817, THRU: 4417.667, MEAN_LAT: 18.541, MAX_LAT: 42.842
ACC: 0.808, THRU: 4426.333, MEAN_LAT: 18.272, MAX_LAT: 20.238
ACC: 0.812, THRU: 4429.667, MEAN_LAT: 18.274, MAX_LAT: 20.238



EXPERIMENT RUN QPS: 10000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=10000
query_batch_size=200
max_features=10
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 10000, query_batch_size: 200, max_features: 10, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.801, THRU: 5666.667, MEAN_LAT: 18.308, MAX_LAT: 20.296
ACC: 0.811, THRU: 5400.000, MEAN_LAT: 18.322, MAX_LAT: 22.937
ACC: 0.811, THRU: 5532.667, MEAN_LAT: 18.304, MAX_LAT: 20.232
ACC: 0.808, THRU: 5534.000, MEAN_LAT: 18.392, MAX_LAT: 32.505
ACC: 0.807, THRU: 5466.667, MEAN_LAT: 18.262, MAX_LAT: 20.338
ACC: 0.805, THRU: 5533.333, MEAN_LAT: 18.296, MAX_LAT: 20.271
ACC: 0.803, THRU: 5483.000, MEAN_LAT: 18.299, MAX_LAT: 20.359
ACC: 0.803, THRU: 5534.000, MEAN_LAT: 18.547, MAX_LAT: 41.863
ACC: 0.812, THRU: 5449.667, MEAN_LAT: 18.278, MAX_LAT: 21.062
ACC: 0.804, THRU: 5416.000, MEAN_LAT: 18.305, MAX_LAT: 20.223
ACC: 0.807, THRU: 5607.333, MEAN_LAT: 18.301, MAX_LAT: 20.298



EXPERIMENT RUN QPS: 12000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=12000
query_batch_size=200
max_features=10
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 12000, query_batch_size: 200, max_features: 10, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 1 with 20 ms SLA
starting response worker 0 with 20 ms SLA
ACC: 0.804, THRU: 6200.000, MEAN_LAT: 18.318, MAX_LAT: 21.466
ACC: 0.804, THRU: 6200.000, MEAN_LAT: 18.330, MAX_LAT: 23.895
ACC: 0.800, THRU: 6333.333, MEAN_LAT: 18.299, MAX_LAT: 20.362
ACC: 0.801, THRU: 6288.667, MEAN_LAT: 18.427, MAX_LAT: 36.451
ACC: 0.800, THRU: 6159.333, MEAN_LAT: 18.305, MAX_LAT: 22.033
ACC: 0.807, THRU: 6052.333, MEAN_LAT: 18.316, MAX_LAT: 20.283
ACC: 0.806, THRU: 5899.667, MEAN_LAT: 18.400, MAX_LAT: 36.245
ACC: 0.805, THRU: 6101.667, MEAN_LAT: 18.293, MAX_LAT: 20.239
ACC: 0.802, THRU: 6098.333, MEAN_LAT: 18.292, MAX_LAT: 20.249
ACC: 0.802, THRU: 6326.667, MEAN_LAT: 18.340, MAX_LAT: 20.323
ACC: 0.807, THRU: 6034.333, MEAN_LAT: 18.305, MAX_LAT: 20.369
waiting for features to finish
done



EXPERIMENT RUN QPS: 15000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=15000
query_batch_size=200
max_features=10
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 15000, query_batch_size: 200, max_features: 10, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.797, THRU: 6848.333, MEAN_LAT: 18.287, MAX_LAT: 20.351
ACC: 0.797, THRU: 7018.333, MEAN_LAT: 18.327, MAX_LAT: 24.254
ACC: 0.800, THRU: 7145.667, MEAN_LAT: 18.415, MAX_LAT: 30.904
ACC: 0.806, THRU: 6921.000, MEAN_LAT: 18.276, MAX_LAT: 21.507
ACC: 0.808, THRU: 6533.333, MEAN_LAT: 18.270, MAX_LAT: 20.293
ACC: 0.801, THRU: 6584.000, MEAN_LAT: 18.487, MAX_LAT: 40.273
ACC: 0.803, THRU: 6616.000, MEAN_LAT: 18.291, MAX_LAT: 20.214
ACC: 0.801, THRU: 6632.000, MEAN_LAT: 18.304, MAX_LAT: 20.297
ACC: 0.806, THRU: 6566.333, MEAN_LAT: 18.283, MAX_LAT: 20.868
ACC: 0.799, THRU: 7174.333, MEAN_LAT: 18.351, MAX_LAT: 20.473
ACC: 0.797, THRU: 6960.667, MEAN_LAT: 18.324, MAX_LAT: 20.360
waiting for features to finish
done



EXPERIMENT RUN QPS: 18000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=18000
query_batch_size=200
max_features=10
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 18000, query_batch_size: 200, max_features: 10, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.775, THRU: 7933.333, MEAN_LAT: 18.344, MAX_LAT: 20.556
ACC: 0.779, THRU: 7929.667, MEAN_LAT: 18.354, MAX_LAT: 24.427
ACC: 0.795, THRU: 7576.333, MEAN_LAT: 18.361, MAX_LAT: 27.094
ACC: 0.794, THRU: 7494.000, MEAN_LAT: 18.315, MAX_LAT: 20.475
ACC: 0.789, THRU: 7394.333, MEAN_LAT: 18.298, MAX_LAT: 20.263
ACC: 0.777, THRU: 7871.000, MEAN_LAT: 18.672, MAX_LAT: 48.451
ACC: 0.783, THRU: 7801.333, MEAN_LAT: 18.338, MAX_LAT: 20.299
ACC: 0.779, THRU: 7378.000, MEAN_LAT: 18.318, MAX_LAT: 21.136
ACC: 0.772, THRU: 7579.667, MEAN_LAT: 18.333, MAX_LAT: 20.709
ACC: 0.776, THRU: 7668.000, MEAN_LAT: 18.315, MAX_LAT: 20.330
ACC: 0.772, THRU: 7495.000, MEAN_LAT: 18.871, MAX_LAT: 58.273
waiting for features to finish
done



EXPERIMENT RUN QPS: 20000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=20000
query_batch_size=200
max_features=10
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 20000, query_batch_size: 200, max_features: 10, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.777, THRU: 7666.667, MEAN_LAT: 18.309, MAX_LAT: 20.390
ACC: 0.764, THRU: 7790.667, MEAN_LAT: 18.341, MAX_LAT: 23.674
ACC: 0.770, THRU: 7876.000, MEAN_LAT: 18.388, MAX_LAT: 31.427
ACC: 0.751, THRU: 8180.000, MEAN_LAT: 18.320, MAX_LAT: 20.241
ACC: 0.748, THRU: 7886.667, MEAN_LAT: 18.309, MAX_LAT: 20.741
ACC: 0.749, THRU: 7865.333, MEAN_LAT: 18.505, MAX_LAT: 42.335
ACC: 0.737, THRU: 8001.333, MEAN_LAT: 18.326, MAX_LAT: 20.447
ACC: 0.736, THRU: 8066.667, MEAN_LAT: 18.317, MAX_LAT: 21.073
ACC: 0.724, THRU: 8133.333, MEAN_LAT: 18.324, MAX_LAT: 20.506
ACC: 0.762, THRU: 7586.000, MEAN_LAT: 18.309, MAX_LAT: 20.537
ACC: 0.774, THRU: 7547.333, MEAN_LAT: 18.876, MAX_LAT: 64.226
waiting for features to finish
done



EXPERIMENT RUN QPS: 22000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=22000
query_batch_size=200
max_features=10
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 22000, query_batch_size: 200, max_features: 10, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.777, THRU: 7861.000, MEAN_LAT: 18.328, MAX_LAT: 20.338
ACC: 0.757, THRU: 8205.667, MEAN_LAT: 18.342, MAX_LAT: 22.727
ACC: 0.783, THRU: 7533.333, MEAN_LAT: 18.402, MAX_LAT: 38.991
ACC: 0.770, THRU: 7933.333, MEAN_LAT: 18.302, MAX_LAT: 22.399
ACC: 0.783, THRU: 7952.333, MEAN_LAT: 18.304, MAX_LAT: 20.366
ACC: 0.783, THRU: 7493.333, MEAN_LAT: 18.484, MAX_LAT: 35.578
ACC: 0.766, THRU: 8152.667, MEAN_LAT: 18.335, MAX_LAT: 21.836
ACC: 0.793, THRU: 7668.333, MEAN_LAT: 18.287, MAX_LAT: 20.245
ACC: 0.764, THRU: 8064.333, MEAN_LAT: 18.320, MAX_LAT: 20.719
ACC: 0.785, THRU: 7935.667, MEAN_LAT: 18.305, MAX_LAT: 20.298
ACC: 0.774, THRU: 8252.000, MEAN_LAT: 19.102, MAX_LAT: 68.351
waiting for features to finish
done



EXPERIMENT RUN QPS: 25000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=25000
query_batch_size=200
max_features=10
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 25000, query_batch_size: 200, max_features: 10, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.771, THRU: 8362.000, MEAN_LAT: 18.288, MAX_LAT: 20.442
ACC: 0.772, THRU: 8304.667, MEAN_LAT: 18.297, MAX_LAT: 23.944
ACC: 0.730, THRU: 8800.000, MEAN_LAT: 18.374, MAX_LAT: 31.763
ACC: 0.705, THRU: 8792.667, MEAN_LAT: 18.304, MAX_LAT: 20.433
ACC: 0.744, THRU: 8444.667, MEAN_LAT: 18.474, MAX_LAT: 34.273
ACC: 0.752, THRU: 8162.667, MEAN_LAT: 18.291, MAX_LAT: 20.391
ACC: 0.731, THRU: 8666.667, MEAN_LAT: 18.318, MAX_LAT: 21.107
ACC: 0.742, THRU: 8655.667, MEAN_LAT: 18.315, MAX_LAT: 20.263
ACC: 0.753, THRU: 8544.333, MEAN_LAT: 18.285, MAX_LAT: 20.292
ACC: 0.735, THRU: 8856.667, MEAN_LAT: 19.549, MAX_LAT: 86.752
ACC: 0.746, THRU: 8466.667, MEAN_LAT: 18.313, MAX_LAT: 20.289
waiting for features to finish
done

FINISHED BATCHING EXPERIMENTS


EXPERIMENT RUN QPS: 1000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=1000
query_batch_size=200
max_features=7
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 1000, query_batch_size: 200, max_features: 7, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.749, THRU: 1133.333, MEAN_LAT: 18.237, MAX_LAT: 20.269
ACC: 0.759, THRU: 1066.667, MEAN_LAT: 18.210, MAX_LAT: 20.202
ACC: 0.754, THRU: 1108.000, MEAN_LAT: 18.221, MAX_LAT: 20.227
ACC: 0.753, THRU: 1092.000, MEAN_LAT: 18.229, MAX_LAT: 20.214
ACC: 0.765, THRU: 1066.667, MEAN_LAT: 18.208, MAX_LAT: 20.284
ACC: 0.758, THRU: 1133.333, MEAN_LAT: 18.230, MAX_LAT: 20.203
ACC: 0.761, THRU: 1066.667, MEAN_LAT: 18.269, MAX_LAT: 20.953
ACC: 0.755, THRU: 1133.333, MEAN_LAT: 18.252, MAX_LAT: 20.228
ACC: 0.760, THRU: 1066.667, MEAN_LAT: 18.236, MAX_LAT: 20.271
ACC: 0.749, THRU: 1066.667, MEAN_LAT: 18.235, MAX_LAT: 20.241
ACC: 0.750, THRU: 1133.333, MEAN_LAT: 18.250, MAX_LAT: 20.242



EXPERIMENT RUN QPS: 3000


EXPERIMENT RUN QPS: 28000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=28000
query_batch_size=200
max_features=10
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 28000, query_batch_size: 200, max_features: 10, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.762, THRU: 8533.333, MEAN_LAT: 18.276, MAX_LAT: 23.200
ACC: 0.696, THRU: 8964.667, MEAN_LAT: 18.320, MAX_LAT: 24.091
ACC: 0.738, THRU: 8789.667, MEAN_LAT: 18.363, MAX_LAT: 28.106
ACC: 0.753, THRU: 8511.000, MEAN_LAT: 18.287, MAX_LAT: 20.654
ACC: 0.719, THRU: 8734.667, MEAN_LAT: 18.476, MAX_LAT: 40.258
ACC: 0.730, THRU: 8664.333, MEAN_LAT: 18.292, MAX_LAT: 20.320
ACC: 0.753, THRU: 8396.333, MEAN_LAT: 18.290, MAX_LAT: 21.503
ACC: 0.735, THRU: 8606.000, MEAN_LAT: 18.314, MAX_LAT: 20.637
ACC: 0.726, THRU: 8907.667, MEAN_LAT: 18.310, MAX_LAT: 20.393
ACC: 0.698, THRU: 9178.333, MEAN_LAT: 19.444, MAX_LAT: 61.712
ACC: 0.690, THRU: 8608.000, MEAN_LAT: 18.307, MAX_LAT: 20.246
waiting for features to finish
done



EXPERIMENT RUN QPS: 30000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=30000
query_batch_size=200
max_features=10
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 30000, query_batch_size: 200, max_features: 10, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.705, THRU: 8353.667, MEAN_LAT: 18.287, MAX_LAT: 22.604
ACC: 0.726, THRU: 8782.000, MEAN_LAT: 18.328, MAX_LAT: 21.937
ACC: 0.696, THRU: 9197.667, MEAN_LAT: 18.358, MAX_LAT: 24.900
ACC: 0.670, THRU: 9066.667, MEAN_LAT: 18.283, MAX_LAT: 20.399
ACC: 0.690, THRU: 9392.333, MEAN_LAT: 18.815, MAX_LAT: 49.753
ACC: 0.643, THRU: 9074.333, MEAN_LAT: 18.326, MAX_LAT: 27.530
ACC: 0.710, THRU: 8755.333, MEAN_LAT: 18.307, MAX_LAT: 20.754
ACC: 0.680, THRU: 9083.333, MEAN_LAT: 18.322, MAX_LAT: 20.308
ACC: 0.704, THRU: 9024.000, MEAN_LAT: 19.758, MAX_LAT: 98.719
ACC: 0.697, THRU: 9053.667, MEAN_LAT: 18.313, MAX_LAT: 20.369
ACC: 0.703, THRU: 9065.000, MEAN_LAT: 18.299, MAX_LAT: 20.388
waiting for features to finish
done



EXPERIMENT RUN QPS: 32000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=32000
query_batch_size=200
max_features=10
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 32000, query_batch_size: 200, max_features: 10, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.718, THRU: 8400.000, MEAN_LAT: 18.299, MAX_LAT: 21.433
ACC: 0.733, THRU: 8598.333, MEAN_LAT: 18.331, MAX_LAT: 25.690
ACC: 0.642, THRU: 9147.000, MEAN_LAT: 18.349, MAX_LAT: 27.190
ACC: 0.651, THRU: 9103.333, MEAN_LAT: 18.322, MAX_LAT: 21.144
ACC: 0.609, THRU: 9122.667, MEAN_LAT: 18.840, MAX_LAT: 61.364
ACC: 0.652, THRU: 9095.333, MEAN_LAT: 18.321, MAX_LAT: 20.249
ACC: 0.645, THRU: 9155.333, MEAN_LAT: 18.330, MAX_LAT: 21.788
ACC: 0.684, THRU: 8576.000, MEAN_LAT: 18.303, MAX_LAT: 21.234
ACC: 0.643, THRU: 8637.000, MEAN_LAT: 18.880, MAX_LAT: 53.805
ACC: 0.650, THRU: 8894.667, MEAN_LAT: 18.427, MAX_LAT: 32.639
ACC: 0.602, THRU: 9457.333, MEAN_LAT: 18.316, MAX_LAT: 20.442
waiting for features to finish
done



EXPERIMENT RUN QPS: 35000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=35000
query_batch_size=200
max_features=10
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 35000, query_batch_size: 200, max_features: 10, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.734, THRU: 8827.667, MEAN_LAT: 18.293, MAX_LAT: 22.312
ACC: 0.614, THRU: 9693.333, MEAN_LAT: 18.332, MAX_LAT: 22.509
ACC: 0.524, THRU: 9879.000, MEAN_LAT: 18.399, MAX_LAT: 26.314
ACC: 0.529, THRU: 9502.000, MEAN_LAT: 18.314, MAX_LAT: 20.369
ACC: 0.581, THRU: 9831.333, MEAN_LAT: 18.494, MAX_LAT: 32.610
ACC: 0.651, THRU: 9100.667, MEAN_LAT: 18.313, MAX_LAT: 22.982
ACC: 0.625, THRU: 9919.000, MEAN_LAT: 18.363, MAX_LAT: 20.587
ACC: 0.545, THRU: 10040.000, MEAN_LAT: 18.304, MAX_LAT: 20.335
ACC: 0.530, THRU: 9471.667, MEAN_LAT: 19.083, MAX_LAT: 41.217
ACC: 0.593, THRU: 9653.667, MEAN_LAT: 18.317, MAX_LAT: 20.281
ACC: 0.522, THRU: 9880.333, MEAN_LAT: 18.320, MAX_LAT: 20.280
waiting for features to finish
done



EXPERIMENT RUN QPS: 37000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=37000
query_batch_size=200
max_features=10
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 37000, query_batch_size: 200, max_features: 10, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.666, THRU: 9174.667, MEAN_LAT: 18.309, MAX_LAT: 20.817
ACC: 0.684, THRU: 9492.000, MEAN_LAT: 18.306, MAX_LAT: 21.792
ACC: 0.576, THRU: 10040.667, MEAN_LAT: 18.368, MAX_LAT: 25.152
ACC: 0.551, THRU: 9377.667, MEAN_LAT: 18.320, MAX_LAT: 22.749
ACC: 0.584, THRU: 9703.000, MEAN_LAT: 18.473, MAX_LAT: 28.014
ACC: 0.542, THRU: 9545.333, MEAN_LAT: 18.333, MAX_LAT: 22.376
ACC: 0.542, THRU: 9400.000, MEAN_LAT: 18.322, MAX_LAT: 21.140
ACC: 0.641, THRU: 9083.333, MEAN_LAT: 18.289, MAX_LAT: 20.817
ACC: 0.592, THRU: 9522.667, MEAN_LAT: 18.826, MAX_LAT: 37.691
ACC: 0.593, THRU: 9660.667, MEAN_LAT: 18.318, MAX_LAT: 20.437
ACC: 0.567, THRU: 9066.667, MEAN_LAT: 18.379, MAX_LAT: 24.001
waiting for features to finish
done



EXPERIMENT RUN QPS: 39000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=39000
query_batch_size=200
max_features=10
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 39000, query_batch_size: 200, max_features: 10, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.657, THRU: 9400.000, MEAN_LAT: 18.310, MAX_LAT: 21.357
ACC: 0.584, THRU: 9333.333, MEAN_LAT: 18.330, MAX_LAT: 22.590
ACC: 0.633, THRU: 9502.333, MEAN_LAT: 18.342, MAX_LAT: 24.084
ACC: 0.629, THRU: 9666.667, MEAN_LAT: 18.309, MAX_LAT: 20.584
ACC: 0.582, THRU: 9764.333, MEAN_LAT: 18.737, MAX_LAT: 49.308
ACC: 0.627, THRU: 9563.333, MEAN_LAT: 18.321, MAX_LAT: 20.711
ACC: 0.636, THRU: 9562.333, MEAN_LAT: 18.341, MAX_LAT: 20.524
ACC: 0.632, THRU: 9407.667, MEAN_LAT: 18.301, MAX_LAT: 21.300
ACC: 0.571, THRU: 9721.333, MEAN_LAT: 19.374, MAX_LAT: 65.731
ACC: 0.511, THRU: 10249.000, MEAN_LAT: 18.348, MAX_LAT: 20.351
ACC: 0.502, THRU: 10071.667, MEAN_LAT: 18.351, MAX_LAT: 20.241
waiting for features to finish
done



EXPERIMENT RUN QPS: 42000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=42000
query_batch_size=200
max_features=10
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 42000, query_batch_size: 200, max_features: 10, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.660, THRU: 9292.333, MEAN_LAT: 18.300, MAX_LAT: 20.657
ACC: 0.553, THRU: 10271.667, MEAN_LAT: 18.358, MAX_LAT: 21.783
ACC: 0.531, THRU: 9636.000, MEAN_LAT: 18.358, MAX_LAT: 24.197
ACC: 0.513, THRU: 10200.000, MEAN_LAT: 18.355, MAX_LAT: 22.434
ACC: 0.512, THRU: 10372.000, MEAN_LAT: 18.384, MAX_LAT: 28.381
ACC: 0.584, THRU: 9573.667, MEAN_LAT: 18.334, MAX_LAT: 21.172
ACC: 0.605, THRU: 9254.333, MEAN_LAT: 18.278, MAX_LAT: 23.391
ACC: 0.582, THRU: 9618.000, MEAN_LAT: 18.317, MAX_LAT: 21.018
ACC: 0.530, THRU: 9821.333, MEAN_LAT: 19.329, MAX_LAT: 51.880
ACC: 0.543, THRU: 9702.667, MEAN_LAT: 18.319, MAX_LAT: 20.259
ACC: 0.582, THRU: 9568.667, MEAN_LAT: 18.296, MAX_LAT: 20.251
waiting for features to finish
done

FINISHED BATCHING EXPERIMENTS


EXPERIMENT RUN QPS: 1000


EXPERIMENT RUN QPS: 45000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=45000
query_batch_size=200
max_features=10
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 45000, query_batch_size: 200, max_features: 10, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 1 with 20 ms SLA
starting response worker 0 with 20 ms SLA
ACC: 0.688, THRU: 9011.667, MEAN_LAT: 18.298, MAX_LAT: 21.402
ACC: 0.551, THRU: 10056.333, MEAN_LAT: 18.348, MAX_LAT: 23.588
ACC: 0.585, THRU: 9807.667, MEAN_LAT: 18.386, MAX_LAT: 24.290
ACC: 0.572, THRU: 9657.667, MEAN_LAT: 18.335, MAX_LAT: 20.996
ACC: 0.497, THRU: 9666.667, MEAN_LAT: 18.515, MAX_LAT: 32.125
ACC: 0.556, THRU: 10260.667, MEAN_LAT: 18.290, MAX_LAT: 20.415
ACC: 0.512, THRU: 10072.667, MEAN_LAT: 18.325, MAX_LAT: 20.457
ACC: 0.510, THRU: 9933.333, MEAN_LAT: 18.330, MAX_LAT: 20.947
ACC: 0.550, THRU: 9933.333, MEAN_LAT: 18.734, MAX_LAT: 41.729
ACC: 0.573, THRU: 10283.333, MEAN_LAT: 18.341, MAX_LAT: 20.259
ACC: 0.521, THRU: 10016.000, MEAN_LAT: 18.317, MAX_LAT: 21.439
waiting for features to finish
done



EXPERIMENT RUN QPS: 48000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=48000
query_batch_size=200
max_features=10
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 48000, query_batch_size: 200, max_features: 10, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.607, THRU: 9258.000, MEAN_LAT: 18.314, MAX_LAT: 20.926
ACC: 0.555, THRU: 10060.333, MEAN_LAT: 18.316, MAX_LAT: 21.735
ACC: 0.552, THRU: 9788.667, MEAN_LAT: 18.355, MAX_LAT: 23.870
ACC: 0.523, THRU: 9893.000, MEAN_LAT: 18.359, MAX_LAT: 21.664
ACC: 0.516, THRU: 9535.333, MEAN_LAT: 18.464, MAX_LAT: 28.491
ACC: 0.500, THRU: 10425.667, MEAN_LAT: 18.308, MAX_LAT: 20.260
ACC: 0.503, THRU: 9639.000, MEAN_LAT: 18.358, MAX_LAT: 22.386
ACC: 0.500, THRU: 9768.000, MEAN_LAT: 18.351, MAX_LAT: 20.815
ACC: 0.499, THRU: 10015.000, MEAN_LAT: 18.666, MAX_LAT: 31.913
ACC: 0.502, THRU: 9417.000, MEAN_LAT: 18.325, MAX_LAT: 20.976
ACC: 0.519, THRU: 9998.333, MEAN_LAT: 18.380, MAX_LAT: 23.821
waiting for features to finish
done



EXPERIMENT RUN QPS: 52000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=52000
query_batch_size=200
max_features=10
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 52000, query_batch_size: 200, max_features: 10, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.601, THRU: 10055.667, MEAN_LAT: 18.297, MAX_LAT: 21.193
ACC: 0.503, THRU: 10453.000, MEAN_LAT: 18.332, MAX_LAT: 21.981
ACC: 0.503, THRU: 10222.333, MEAN_LAT: 18.353, MAX_LAT: 24.636
ACC: 0.518, THRU: 10649.667, MEAN_LAT: 18.360, MAX_LAT: 26.013
ACC: 0.521, THRU: 9622.333, MEAN_LAT: 18.401, MAX_LAT: 28.107
ACC: 0.519, THRU: 9635.333, MEAN_LAT: 18.297, MAX_LAT: 20.751
ACC: 0.497, THRU: 9895.000, MEAN_LAT: 18.296, MAX_LAT: 22.619
ACC: 0.500, THRU: 10394.667, MEAN_LAT: 18.408, MAX_LAT: 26.954
ACC: 0.511, THRU: 9322.667, MEAN_LAT: 18.542, MAX_LAT: 32.326
ACC: 0.512, THRU: 10016.000, MEAN_LAT: 18.378, MAX_LAT: 34.052
ACC: 0.498, THRU: 9848.333, MEAN_LAT: 18.292, MAX_LAT: 20.479
waiting for features to finish
done

FINISHED BATCHING EXPERIMENTS


EXPERIMENT RUN QPS: 1000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=1000
query_batch_size=200
max_features=7
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 1000, query_batch_size: 200, max_features: 7, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.740, THRU: 1133.333, MEAN_LAT: 18.252, MAX_LAT: 20.362
ACC: 0.759, THRU: 1066.667, MEAN_LAT: 18.237, MAX_LAT: 20.211
ACC: 0.737, THRU: 1071.667, MEAN_LAT: 18.214, MAX_LAT: 20.224
ACC: 0.749, THRU: 1128.333, MEAN_LAT: 18.239, MAX_LAT: 20.262
ACC: 0.747, THRU: 1066.667, MEAN_LAT: 18.248, MAX_LAT: 20.275
ACC: 0.758, THRU: 1133.333, MEAN_LAT: 18.262, MAX_LAT: 20.859
ACC: 0.749, THRU: 1066.667, MEAN_LAT: 18.263, MAX_LAT: 20.218
ACC: 0.737, THRU: 1066.667, MEAN_LAT: 18.237, MAX_LAT: 21.097
ACC: 0.745, THRU: 1133.333, MEAN_LAT: 18.270, MAX_LAT: 20.470
ACC: 0.755, THRU: 1066.667, MEAN_LAT: 18.255, MAX_LAT: 20.263
ACC: 0.752, THRU: 1066.667, MEAN_LAT: 18.281, MAX_LAT: 20.225



EXPERIMENT RUN QPS: 3000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=3000
query_batch_size=200
max_features=7
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 3000, query_batch_size: 200, max_features: 7, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.760, THRU: 2533.333, MEAN_LAT: 18.285, MAX_LAT: 20.282
ACC: 0.767, THRU: 2600.000, MEAN_LAT: 18.249, MAX_LAT: 20.240
ACC: 0.758, THRU: 2533.333, MEAN_LAT: 18.275, MAX_LAT: 20.209
ACC: 0.759, THRU: 2533.333, MEAN_LAT: 18.276, MAX_LAT: 20.593
ACC: 0.763, THRU: 2533.333, MEAN_LAT: 18.288, MAX_LAT: 20.280
ACC: 0.771, THRU: 2533.333, MEAN_LAT: 18.271, MAX_LAT: 20.264
ACC: 0.755, THRU: 2600.000, MEAN_LAT: 18.292, MAX_LAT: 21.852
ACC: 0.772, THRU: 2533.333, MEAN_LAT: 18.252, MAX_LAT: 20.905
ACC: 0.761, THRU: 2533.333, MEAN_LAT: 18.274, MAX_LAT: 20.240
ACC: 0.768, THRU: 2600.000, MEAN_LAT: 18.272, MAX_LAT: 22.435
ACC: 0.761, THRU: 2533.333, MEAN_LAT: 18.275, MAX_LAT: 20.258



EXPERIMENT RUN QPS: 5000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=5000
query_batch_size=200
max_features=7
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 5000, query_batch_size: 200, max_features: 7, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.777, THRU: 3666.667, MEAN_LAT: 18.255, MAX_LAT: 20.293
ACC: 0.770, THRU: 3733.333, MEAN_LAT: 18.305, MAX_LAT: 21.061
ACC: 0.774, THRU: 3712.667, MEAN_LAT: 18.281, MAX_LAT: 22.528
ACC: 0.776, THRU: 3687.333, MEAN_LAT: 18.260, MAX_LAT: 20.606
ACC: 0.771, THRU: 3696.000, MEAN_LAT: 18.350, MAX_LAT: 22.180
ACC: 0.772, THRU: 3704.000, MEAN_LAT: 18.257, MAX_LAT: 20.262
ACC: 0.770, THRU: 3702.333, MEAN_LAT: 18.245, MAX_LAT: 21.417
ACC: 0.776, THRU: 3697.667, MEAN_LAT: 18.246, MAX_LAT: 20.299
ACC: 0.765, THRU: 3733.333, MEAN_LAT: 18.333, MAX_LAT: 24.276
ACC: 0.768, THRU: 3666.667, MEAN_LAT: 18.331, MAX_LAT: 24.722
ACC: 0.770, THRU: 3733.333, MEAN_LAT: 18.280, MAX_LAT: 20.218



EXPERIMENT RUN QPS: 10000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=10000
query_batch_size=200
max_features=7
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 10000, query_batch_size: 200, max_features: 7, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.773, THRU: 5906.333, MEAN_LAT: 18.356, MAX_LAT: 20.292
ACC: 0.771, THRU: 6093.667, MEAN_LAT: 18.460, MAX_LAT: 21.943
ACC: 0.773, THRU: 6333.333, MEAN_LAT: 18.590, MAX_LAT: 21.474
ACC: 0.773, THRU: 6000.000, MEAN_LAT: 18.379, MAX_LAT: 20.229
ACC: 0.775, THRU: 5933.333, MEAN_LAT: 18.351, MAX_LAT: 21.997
ACC: 0.767, THRU: 5931.333, MEAN_LAT: 18.353, MAX_LAT: 22.262
ACC: 0.772, THRU: 5935.333, MEAN_LAT: 18.404, MAX_LAT: 21.524
ACC: 0.773, THRU: 5957.000, MEAN_LAT: 18.407, MAX_LAT: 20.290
ACC: 0.769, THRU: 5914.000, MEAN_LAT: 18.399, MAX_LAT: 20.286
ACC: 0.777, THRU: 5929.000, MEAN_LAT: 18.354, MAX_LAT: 24.016
ACC: 0.774, THRU: 6000.000, MEAN_LAT: 18.437, MAX_LAT: 22.605
waiting for features to finish
done



EXPERIMENT RUN QPS: 15000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=15000
query_batch_size=200
max_features=7
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 15000, query_batch_size: 200, max_features: 7, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 1 with 20 ms SLA
starting response worker 0 with 20 ms SLA
ACC: 0.769, THRU: 7600.000, MEAN_LAT: 18.386, MAX_LAT: 20.274
ACC: 0.761, THRU: 8094.333, MEAN_LAT: 18.443, MAX_LAT: 21.223
ACC: 0.753, THRU: 8039.000, MEAN_LAT: 18.468, MAX_LAT: 22.146
ACC: 0.765, THRU: 8000.000, MEAN_LAT: 18.499, MAX_LAT: 23.886
ACC: 0.754, THRU: 7933.333, MEAN_LAT: 18.470, MAX_LAT: 22.243
ACC: 0.761, THRU: 7968.000, MEAN_LAT: 18.461, MAX_LAT: 20.404
ACC: 0.764, THRU: 7698.667, MEAN_LAT: 18.396, MAX_LAT: 20.267
ACC: 0.756, THRU: 7800.000, MEAN_LAT: 18.485, MAX_LAT: 25.347
ACC: 0.768, THRU: 7800.000, MEAN_LAT: 18.494, MAX_LAT: 28.017
ACC: 0.762, THRU: 7762.667, MEAN_LAT: 18.435, MAX_LAT: 26.447
ACC: 0.758, THRU: 7704.000, MEAN_LAT: 18.388, MAX_LAT: 21.912
waiting for features to finish
done



EXPERIMENT RUN QPS: 18000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=18000
query_batch_size=200
max_features=7
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 18000, query_batch_size: 200, max_features: 7, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.749, THRU: 8666.667, MEAN_LAT: 18.405, MAX_LAT: 20.816
ACC: 0.757, THRU: 8711.667, MEAN_LAT: 18.370, MAX_LAT: 21.612
ACC: 0.745, THRU: 9191.667, MEAN_LAT: 18.463, MAX_LAT: 22.404
ACC: 0.752, THRU: 8940.333, MEAN_LAT: 18.434, MAX_LAT: 21.918
ACC: 0.752, THRU: 9101.667, MEAN_LAT: 18.458, MAX_LAT: 23.423
ACC: 0.760, THRU: 8550.000, MEAN_LAT: 18.393, MAX_LAT: 20.496
ACC: 0.749, THRU: 9104.667, MEAN_LAT: 18.508, MAX_LAT: 21.092
ACC: 0.755, THRU: 9660.333, MEAN_LAT: 18.600, MAX_LAT: 26.555
ACC: 0.763, THRU: 9206.333, MEAN_LAT: 18.525, MAX_LAT: 21.173
ACC: 0.763, THRU: 9503.333, MEAN_LAT: 18.477, MAX_LAT: 24.235
ACC: 0.751, THRU: 9496.667, MEAN_LAT: 18.465, MAX_LAT: 20.369
waiting for features to finish
done



EXPERIMENT RUN QPS: 21000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=21000
query_batch_size=200
max_features=7
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 21000, query_batch_size: 200, max_features: 7, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 1 with 20 ms SLA
starting response worker 0 with 20 ms SLA
ACC: 0.751, THRU: 9066.667, MEAN_LAT: 18.431, MAX_LAT: 20.265
ACC: 0.748, THRU: 9210.333, MEAN_LAT: 18.419, MAX_LAT: 21.203
ACC: 0.739, THRU: 9753.333, MEAN_LAT: 18.533, MAX_LAT: 22.770
ACC: 0.722, THRU: 9886.667, MEAN_LAT: 18.554, MAX_LAT: 23.988
ACC: 0.763, THRU: 8949.667, MEAN_LAT: 18.491, MAX_LAT: 23.382
ACC: 0.749, THRU: 9133.333, MEAN_LAT: 18.416, MAX_LAT: 20.426
ACC: 0.749, THRU: 9333.333, MEAN_LAT: 18.594, MAX_LAT: 27.751
ACC: 0.750, THRU: 9441.000, MEAN_LAT: 18.601, MAX_LAT: 23.576
ACC: 0.730, THRU: 9606.667, MEAN_LAT: 18.507, MAX_LAT: 22.716
ACC: 0.748, THRU: 9219.000, MEAN_LAT: 18.444, MAX_LAT: 21.767
ACC: 0.747, THRU: 9394.667, MEAN_LAT: 18.554, MAX_LAT: 21.563
waiting for features to finish
done



EXPERIMENT RUN QPS: 24000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=24000
query_batch_size=200
max_features=7
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 24000, query_batch_size: 200, max_features: 7, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.741, THRU: 9333.333, MEAN_LAT: 18.395, MAX_LAT: 20.635
ACC: 0.729, THRU: 9746.667, MEAN_LAT: 18.529, MAX_LAT: 21.944
ACC: 0.716, THRU: 9520.000, MEAN_LAT: 18.454, MAX_LAT: 21.422
ACC: 0.722, THRU: 9384.000, MEAN_LAT: 18.437, MAX_LAT: 23.941
ACC: 0.713, THRU: 9460.000, MEAN_LAT: 18.481, MAX_LAT: 22.677
ACC: 0.720, THRU: 9222.667, MEAN_LAT: 18.446, MAX_LAT: 22.353
ACC: 0.711, THRU: 9580.667, MEAN_LAT: 18.550, MAX_LAT: 25.982
ACC: 0.702, THRU: 9650.667, MEAN_LAT: 18.564, MAX_LAT: 25.822
ACC: 0.706, THRU: 9902.000, MEAN_LAT: 18.473, MAX_LAT: 23.142
ACC: 0.704, THRU: 10133.333, MEAN_LAT: 18.592, MAX_LAT: 24.933
ACC: 0.704, THRU: 9960.333, MEAN_LAT: 18.531, MAX_LAT: 22.325
waiting for features to finish
done



EXPERIMENT RUN QPS: 27000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=27000
query_batch_size=200
max_features=7
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 27000, query_batch_size: 200, max_features: 7, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.699, THRU: 10296.667, MEAN_LAT: 18.504, MAX_LAT: 20.820
ACC: 0.708, THRU: 10236.667, MEAN_LAT: 18.435, MAX_LAT: 21.195
ACC: 0.698, THRU: 10222.333, MEAN_LAT: 18.461, MAX_LAT: 20.666
ACC: 0.719, THRU: 9844.333, MEAN_LAT: 18.464, MAX_LAT: 23.324
ACC: 0.713, THRU: 10154.667, MEAN_LAT: 18.537, MAX_LAT: 24.231
ACC: 0.708, THRU: 10570.333, MEAN_LAT: 18.482, MAX_LAT: 20.594
ACC: 0.711, THRU: 10475.000, MEAN_LAT: 18.567, MAX_LAT: 26.548
ACC: 0.708, THRU: 10200.000, MEAN_LAT: 18.488, MAX_LAT: 25.867
ACC: 0.712, THRU: 10861.333, MEAN_LAT: 18.588, MAX_LAT: 21.676
ACC: 0.707, THRU: 10313.667, MEAN_LAT: 18.506, MAX_LAT: 23.916
ACC: 0.698, THRU: 10358.333, MEAN_LAT: 18.525, MAX_LAT: 21.463
waiting for features to finish
done



EXPERIMENT RUN QPS: 30000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=30000
query_batch_size=200
max_features=7
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 30000, query_batch_size: 200, max_features: 7, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 1 with 20 ms SLA
starting response worker 0 with 20 ms SLA
ACC: 0.696, THRU: 10533.333, MEAN_LAT: 18.460, MAX_LAT: 22.431
ACC: 0.686, THRU: 10791.000, MEAN_LAT: 18.510, MAX_LAT: 21.983
ACC: 0.689, THRU: 10300.000, MEAN_LAT: 18.483, MAX_LAT: 23.877
ACC: 0.710, THRU: 9934.667, MEAN_LAT: 18.478, MAX_LAT: 24.322
ACC: 0.673, THRU: 10625.667, MEAN_LAT: 18.576, MAX_LAT: 23.167
ACC: 0.688, THRU: 10549.333, MEAN_LAT: 18.537, MAX_LAT: 21.543
ACC: 0.681, THRU: 11187.333, MEAN_LAT: 18.658, MAX_LAT: 25.947
ACC: 0.675, THRU: 11078.667, MEAN_LAT: 18.633, MAX_LAT: 25.222
ACC: 0.681, THRU: 10719.000, MEAN_LAT: 18.523, MAX_LAT: 26.152
ACC: 0.670, THRU: 11081.000, MEAN_LAT: 18.572, MAX_LAT: 22.417
ACC: 0.679, THRU: 10952.000, MEAN_LAT: 18.526, MAX_LAT: 22.517
waiting for features to finish
done



EXPERIMENT RUN QPS: 33000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=33000
query_batch_size=200
max_features=7
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 33000, query_batch_size: 200, max_features: 7, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.709, THRU: 10717.667, MEAN_LAT: 18.561, MAX_LAT: 22.105
ACC: 0.695, THRU: 10918.667, MEAN_LAT: 18.467, MAX_LAT: 22.265
ACC: 0.696, THRU: 10796.667, MEAN_LAT: 18.481, MAX_LAT: 20.665
ACC: 0.714, THRU: 10367.000, MEAN_LAT: 18.517, MAX_LAT: 23.764
ACC: 0.695, THRU: 10800.000, MEAN_LAT: 18.474, MAX_LAT: 24.421
ACC: 0.688, THRU: 11133.333, MEAN_LAT: 18.528, MAX_LAT: 21.158
ACC: 0.697, THRU: 11250.667, MEAN_LAT: 18.663, MAX_LAT: 26.121
ACC: 0.706, THRU: 10949.333, MEAN_LAT: 18.526, MAX_LAT: 20.453
ACC: 0.696, THRU: 10661.333, MEAN_LAT: 18.433, MAX_LAT: 26.095
ACC: 0.684, THRU: 11205.333, MEAN_LAT: 18.543, MAX_LAT: 23.648
ACC: 0.688, THRU: 11066.667, MEAN_LAT: 18.563, MAX_LAT: 23.421
waiting for features to finish
done



EXPERIMENT RUN QPS: 36000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=36000
query_batch_size=200
max_features=7
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 36000, query_batch_size: 200, max_features: 7, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.680, THRU: 11244.667, MEAN_LAT: 18.450, MAX_LAT: 20.780
ACC: 0.669, THRU: 11407.000, MEAN_LAT: 18.485, MAX_LAT: 22.013
ACC: 0.691, THRU: 11263.000, MEAN_LAT: 18.473, MAX_LAT: 21.102
ACC: 0.678, THRU: 11485.333, MEAN_LAT: 18.489, MAX_LAT: 22.606
ACC: 0.669, THRU: 11733.333, MEAN_LAT: 18.501, MAX_LAT: 20.385
ACC: 0.666, THRU: 11523.333, MEAN_LAT: 18.546, MAX_LAT: 22.300
ACC: 0.663, THRU: 11876.667, MEAN_LAT: 18.657, MAX_LAT: 26.285
ACC: 0.667, THRU: 11531.667, MEAN_LAT: 18.559, MAX_LAT: 22.849
ACC: 0.676, THRU: 12001.667, MEAN_LAT: 18.633, MAX_LAT: 24.729
ACC: 0.668, THRU: 11520.000, MEAN_LAT: 18.511, MAX_LAT: 24.495
ACC: 0.665, THRU: 11743.667, MEAN_LAT: 18.566, MAX_LAT: 21.894
waiting for features to finish
done



EXPERIMENT RUN QPS: 39000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=39000
query_batch_size=200
max_features=7
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 39000, query_batch_size: 200, max_features: 7, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.687, THRU: 11130.333, MEAN_LAT: 18.476, MAX_LAT: 22.210
ACC: 0.688, THRU: 11077.333, MEAN_LAT: 18.498, MAX_LAT: 22.123
ACC: 0.674, THRU: 11255.000, MEAN_LAT: 18.487, MAX_LAT: 21.140
ACC: 0.679, THRU: 10670.667, MEAN_LAT: 18.490, MAX_LAT: 23.607
ACC: 0.644, THRU: 11733.333, MEAN_LAT: 18.542, MAX_LAT: 24.210
ACC: 0.673, THRU: 11200.000, MEAN_LAT: 18.551, MAX_LAT: 23.149
ACC: 0.674, THRU: 11254.667, MEAN_LAT: 18.567, MAX_LAT: 24.771
ACC: 0.658, THRU: 12212.000, MEAN_LAT: 18.606, MAX_LAT: 25.471
ACC: 0.676, THRU: 11266.667, MEAN_LAT: 18.479, MAX_LAT: 23.271
ACC: 0.682, THRU: 11600.000, MEAN_LAT: 18.483, MAX_LAT: 25.060
ACC: 0.683, THRU: 11240.667, MEAN_LAT: 18.484, MAX_LAT: 20.693
waiting for features to finish
done



EXPERIMENT RUN QPS: 42000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=42000
query_batch_size=200
max_features=7
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 42000, query_batch_size: 200, max_features: 7, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.668, THRU: 12202.000, MEAN_LAT: 18.484, MAX_LAT: 21.211
ACC: 0.660, THRU: 12433.667, MEAN_LAT: 18.539, MAX_LAT: 21.740
ACC: 0.669, THRU: 11564.333, MEAN_LAT: 18.455, MAX_LAT: 23.289
ACC: 0.665, THRU: 12400.000, MEAN_LAT: 18.526, MAX_LAT: 24.485
ACC: 0.671, THRU: 12773.000, MEAN_LAT: 18.552, MAX_LAT: 23.246
ACC: 0.654, THRU: 12837.667, MEAN_LAT: 18.549, MAX_LAT: 25.239
ACC: 0.670, THRU: 11789.333, MEAN_LAT: 18.538, MAX_LAT: 26.632
ACC: 0.664, THRU: 12526.333, MEAN_LAT: 18.571, MAX_LAT: 21.688
ACC: 0.648, THRU: 12237.667, MEAN_LAT: 18.560, MAX_LAT: 21.737
ACC: 0.657, THRU: 11994.667, MEAN_LAT: 18.546, MAX_LAT: 24.549
ACC: 0.643, THRU: 13708.000, MEAN_LAT: 18.579, MAX_LAT: 20.940
waiting for features to finish
done



EXPERIMENT RUN QPS: 45000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=45000
query_batch_size=200
max_features=7
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 45000, query_batch_size: 200, max_features: 7, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.673, THRU: 11133.333, MEAN_LAT: 18.419, MAX_LAT: 20.868
ACC: 0.648, THRU: 12118.333, MEAN_LAT: 18.464, MAX_LAT: 21.590
ACC: 0.665, THRU: 11806.667, MEAN_LAT: 18.461, MAX_LAT: 21.190
ACC: 0.654, THRU: 12171.333, MEAN_LAT: 18.505, MAX_LAT: 24.960
ACC: 0.666, THRU: 12303.667, MEAN_LAT: 18.515, MAX_LAT: 21.565
ACC: 0.651, THRU: 13077.333, MEAN_LAT: 18.644, MAX_LAT: 22.325
ACC: 0.656, THRU: 12722.667, MEAN_LAT: 18.532, MAX_LAT: 26.826
ACC: 0.640, THRU: 13333.333, MEAN_LAT: 18.589, MAX_LAT: 22.501
ACC: 0.636, THRU: 13559.000, MEAN_LAT: 18.604, MAX_LAT: 22.339
ACC: 0.654, THRU: 13247.667, MEAN_LAT: 18.583, MAX_LAT: 25.046
ACC: 0.652, THRU: 12793.333, MEAN_LAT: 18.522, MAX_LAT: 20.799
waiting for features to finish
done



EXPERIMENT RUN QPS: 48000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=48000
query_batch_size=200
max_features=7
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 48000, query_batch_size: 200, max_features: 7, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.673, THRU: 11661.333, MEAN_LAT: 18.441, MAX_LAT: 21.716
ACC: 0.660, THRU: 12781.000, MEAN_LAT: 18.574, MAX_LAT: 21.982
ACC: 0.666, THRU: 11424.333, MEAN_LAT: 18.439, MAX_LAT: 21.742
ACC: 0.650, THRU: 13350.333, MEAN_LAT: 18.600, MAX_LAT: 24.739
ACC: 0.668, THRU: 12304.000, MEAN_LAT: 18.553, MAX_LAT: 22.348
ACC: 0.657, THRU: 13042.667, MEAN_LAT: 18.630, MAX_LAT: 23.966
ACC: 0.666, THRU: 12520.333, MEAN_LAT: 18.530, MAX_LAT: 26.638
ACC: 0.673, THRU: 12775.667, MEAN_LAT: 18.560, MAX_LAT: 22.467
ACC: 0.668, THRU: 12113.333, MEAN_LAT: 18.519, MAX_LAT: 23.397
ACC: 0.667, THRU: 12027.000, MEAN_LAT: 18.562, MAX_LAT: 23.322
ACC: 0.664, THRU: 12600.000, MEAN_LAT: 18.611, MAX_LAT: 25.229
waiting for features to finish
done



EXPERIMENT RUN QPS: 51000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=51000
query_batch_size=200
max_features=7
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 51000, query_batch_size: 200, max_features: 7, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.659, THRU: 12469.333, MEAN_LAT: 18.375, MAX_LAT: 21.882
ACC: 0.649, THRU: 13067.333, MEAN_LAT: 18.400, MAX_LAT: 23.683
ACC: 0.654, THRU: 11990.000, MEAN_LAT: 18.397, MAX_LAT: 21.475
ACC: 0.663, THRU: 11929.000, MEAN_LAT: 18.398, MAX_LAT: 22.878
ACC: 0.651, THRU: 12741.000, MEAN_LAT: 18.480, MAX_LAT: 21.780
ACC: 0.634, THRU: 13115.000, MEAN_LAT: 18.478, MAX_LAT: 22.074
ACC: 0.663, THRU: 12944.333, MEAN_LAT: 18.467, MAX_LAT: 27.814
ACC: 0.622, THRU: 13243.000, MEAN_LAT: 18.454, MAX_LAT: 27.262
ACC: 0.629, THRU: 12538.000, MEAN_LAT: 18.420, MAX_LAT: 21.934
ACC: 0.669, THRU: 12154.333, MEAN_LAT: 18.412, MAX_LAT: 24.238
ACC: 0.628, THRU: 13411.000, MEAN_LAT: 18.420, MAX_LAT: 25.946
waiting for features to finish
done



EXPERIMENT RUN QPS: 54000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=54000
query_batch_size=200
max_features=7
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 54000, query_batch_size: 200, max_features: 7, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.687, THRU: 11810.333, MEAN_LAT: 18.348, MAX_LAT: 22.212
ACC: 0.637, THRU: 12512.667, MEAN_LAT: 18.383, MAX_LAT: 21.050
ACC: 0.660, THRU: 11962.000, MEAN_LAT: 18.386, MAX_LAT: 22.272
ACC: 0.655, THRU: 12513.000, MEAN_LAT: 18.490, MAX_LAT: 23.826
ACC: 0.660, THRU: 11935.333, MEAN_LAT: 18.424, MAX_LAT: 22.162
ACC: 0.657, THRU: 11754.667, MEAN_LAT: 18.377, MAX_LAT: 23.939
ACC: 0.654, THRU: 11959.333, MEAN_LAT: 18.440, MAX_LAT: 25.104
ACC: 0.610, THRU: 12619.333, MEAN_LAT: 18.479, MAX_LAT: 26.390
ACC: 0.656, THRU: 12133.333, MEAN_LAT: 18.412, MAX_LAT: 22.615
ACC: 0.646, THRU: 12133.333, MEAN_LAT: 18.400, MAX_LAT: 20.999
ACC: 0.595, THRU: 13376.667, MEAN_LAT: 18.505, MAX_LAT: 25.824
waiting for features to finish
done



EXPERIMENT RUN QPS: 57000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=57000
query_batch_size=200
max_features=7
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 57000, query_batch_size: 200, max_features: 7, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.666, THRU: 12474.000, MEAN_LAT: 18.387, MAX_LAT: 21.100
ACC: 0.659, THRU: 12792.667, MEAN_LAT: 18.392, MAX_LAT: 21.572
ACC: 0.676, THRU: 12459.000, MEAN_LAT: 18.348, MAX_LAT: 20.539
ACC: 0.670, THRU: 12451.000, MEAN_LAT: 18.455, MAX_LAT: 23.656
ACC: 0.668, THRU: 12556.667, MEAN_LAT: 18.410, MAX_LAT: 22.747
ACC: 0.675, THRU: 12582.333, MEAN_LAT: 18.450, MAX_LAT: 21.822
ACC: 0.654, THRU: 12870.333, MEAN_LAT: 18.505, MAX_LAT: 27.265
ACC: 0.665, THRU: 12446.000, MEAN_LAT: 18.443, MAX_LAT: 25.597
ACC: 0.656, THRU: 13409.667, MEAN_LAT: 18.427, MAX_LAT: 20.761
ACC: 0.665, THRU: 13025.000, MEAN_LAT: 18.476, MAX_LAT: 23.675
ACC: 0.672, THRU: 13366.000, MEAN_LAT: 18.471, MAX_LAT: 25.536
waiting for features to finish
done



EXPERIMENT RUN QPS: 60000
Feature servers started!
Args { flag_bench_conf: Some("anytime.toml"), flag_feature_conf: "features.toml", arg_b: None, cmd_digits: true, cmd_featurelats: false, cmd_start: false }
features.toml contains:
[features]
# pred0 = "127.0.0.1:6000"
pred1 = "127.0.0.1:6001"
pred2 = "127.0.0.1:6002"
pred3 = "127.0.0.1:6003"
pred4 = "127.0.0.1:6004"
pred5 = "127.0.0.1:6005"
pred6 = "127.0.0.1:6006"
pred7 = "127.0.0.1:6007"
pred8 = "127.0.0.1:6008"
pred9 = "127.0.0.1:6009"
pred10 = "127.0.0.1:6010"
[("pred1", V4(127.0.0.1:6001)), ("pred10", V4(127.0.0.1:6010)), ("pred2", V4(127.0.0.1:6002)), ("pred3", V4(127.0.0.1:6003)), ("pred4", V4(127.0.0.1:6004)), ("pred5", V4(127.0.0.1:6005)), ("pred6", V4(127.0.0.1:6006)), ("pred7", V4(127.0.0.1:6007)), ("pred8", V4(127.0.0.1:6008)), ("pred9", V4(127.0.0.1:6009))]
anytime.toml contains:

users=1000
train_examples=50
test_examples=100
mnist_path="/crankshaw-local/mnist/data/test.data"
num_events=1000000
worker_threads=2
target_qps=60000
query_batch_size=200
max_features=7
salt_hash=true
feature_batch_size=100

starting digits
Config: DigitsBenchConfig { num_users: 1000, num_train_examples: 50, num_test_examples: 100, mnist_path: "/crankshaw-local/mnist/data/test.data", num_events: 1000000, num_workers: 2, target_qps: 60000, query_batch_size: 200, max_features: 7, salt_hash: true, feature_batch_size: 100 }
Test data loaded: 10000 points
clearing caches
creating dispatcher with 2 workers
starting response worker 0 with 20 ms SLA
starting response worker 1 with 20 ms SLA
ACC: 0.659, THRU: 12142.000, MEAN_LAT: 18.390, MAX_LAT: 22.145
ACC: 0.643, THRU: 12215.000, MEAN_LAT: 18.376, MAX_LAT: 22.111
ACC: 0.649, THRU: 12243.000, MEAN_LAT: 18.420, MAX_LAT: 24.267
ACC: 0.646, THRU: 12460.667, MEAN_LAT: 18.449, MAX_LAT: 23.866
ACC: 0.627, THRU: 12871.667, MEAN_LAT: 18.450, MAX_LAT: 20.973
ACC: 0.646, THRU: 13542.000, MEAN_LAT: 18.478, MAX_LAT: 24.427
ACC: 0.647, THRU: 12997.333, MEAN_LAT: 18.539, MAX_LAT: 25.305
ACC: 0.638, THRU: 13028.333, MEAN_LAT: 18.455, MAX_LAT: 26.255
ACC: 0.637, THRU: 13030.667, MEAN_LAT: 18.400, MAX_LAT: 20.697
ACC: 0.657, THRU: 12774.333, MEAN_LAT: 18.412, MAX_LAT: 20.474
ACC: 0.650, THRU: 12750.000, MEAN_LAT: 18.433, MAX_LAT: 27.365
waiting for features to finish
done

